import{f as D,i as O,j as s,r as l,g as f,a as x,aV as b,s as C,u as v,b as T,_ as r,c as g,d as h,k as S,b0 as I,I as P,as as V,au as E}from"./index-C1vuB0Zl.js";import{D as F,a as z}from"./DialogContent-V_Nk_Bat.js";import{D as H}from"./DialogTitle-uXUM5z9C.js";import{C as k}from"./CircularProgress-Bi4DA5uq.js";var w={},q=O;Object.defineProperty(w,"__esModule",{value:!0});var G=w.default=void 0,W=q(D()),B=s;G=w.default=(0,W.default)((0,B.jsx)("path",{d:"M15 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V7zM6 20V4h8v4h4v12zm10-10v5c0 2.21-1.79 4-4 4s-4-1.79-4-4V8.5c0-1.47 1.26-2.64 2.76-2.49 1.3.13 2.24 1.32 2.24 2.63V15h-2V8.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V15c0 1.1.9 2 2 2s2-.9 2-2v-5z"}),"FilePresent");const J=l.createContext({}),y=J;function K(e){return f("MuiTimeline",e)}x("MuiTimeline",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function m(e){return e==="alternate-reverse"?"positionAlternateReverse":`position${b(e)}`}const Q=["position","className"],X=e=>{const{position:t,classes:o}=e,i={root:["root",t&&m(t)]};return h(i,K,o)},Y=C("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.position&&t[m(o.position)]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),Z=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimeline"}),{position:n="right",className:p}=i,a=T(i,Q),c=r({},i,{position:n}),u=X(c),d=l.useMemo(()=>({position:n}),[n]);return s.jsx(y.Provider,{value:d,children:s.jsx(Y,r({className:g(u.root,p),ownerState:c,ref:o},a))})}),ze=Z;function ee(e){return f("MuiTimelineConnector",e)}x("MuiTimelineConnector",["root"]);const te=["className"],oe=e=>{const{classes:t}=e;return h({root:["root"]},ee,t)},ie=C("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.grey[400],flexGrow:1})),ne=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimelineConnector"}),{className:n}=i,p=T(i,te),a=i,c=oe(a);return s.jsx(ie,r({className:g(c.root,n),ownerState:a,ref:o},p))}),He=ne;function se(e){return f("MuiTimelineContent",e)}const re=x("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),le=re,ae=["className"],ce=e=>{const{position:t,classes:o}=e,i={root:["root",m(t)]};return h(i,se,o)},pe=C(S,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[m(o.position)]]}})(({ownerState:e})=>r({flex:1,padding:"6px 16px",textAlign:"left"},e.position==="left"&&{textAlign:"right"})),ue=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimelineContent"}),{className:n}=i,p=T(i,ae),{position:a}=l.useContext(y),c=r({},i,{position:a||"right"}),u=ce(c);return s.jsx(pe,r({component:"div",className:g(u.root,n),ownerState:c,ref:o},p))}),ke=ue;function de(e){return f("MuiTimelineDot",e)}x("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const me=["className","color","variant"],fe=e=>{const{color:t,variant:o,classes:i}=e,n={root:["root",o,t!=="inherit"&&`${o}${b(t)}`]};return h(n,de,i)},xe=C("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.color!=="inherit"&&`${o.variant}${b(o.color)}`],t[o.variant]]}})(({ownerState:e,theme:t})=>r({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(t.vars||t).shadows[1],margin:"11.5px 0"},e.variant==="filled"&&r({borderColor:"transparent"},e.color!=="inherit"&&r({},e.color==="grey"?{color:(t.vars||t).palette.grey[50],backgroundColor:(t.vars||t).palette.grey[400]}:{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main})),e.variant==="outlined"&&r({boxShadow:"none",backgroundColor:"transparent"},e.color!=="inherit"&&r({},e.color==="grey"?{borderColor:(t.vars||t).palette.grey[400]}:{borderColor:(t.vars||t).palette[e.color].main})))),Ce=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimelineDot"}),{className:n,color:p="grey",variant:a="filled"}=i,c=T(i,me),u=r({},i,{color:p,variant:a}),d=fe(u);return s.jsx(xe,r({className:g(d.root,n),ownerState:u,ref:o},c))}),qe=Ce;function ve(e){return f("MuiTimelineOppositeContent",e)}const Te=x("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),ge=Te,he=["className"],Re=e=>{const{position:t,classes:o}=e,i={root:["root",m(t)]};return h(i,ve,o)},ye=C(S,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[m(o.position)]]}})(({ownerState:e})=>r({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},e.position==="left"&&{textAlign:"left"})),U=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimelineOppositeContent"}),{className:n}=i,p=T(i,he),{position:a}=l.useContext(y),c=r({},i,{position:a||"left"}),u=Re(c);return s.jsx(ye,r({component:"div",className:g(u.root,n),ownerState:c,ref:o},p))});U.muiName="TimelineOppositeContent";const Ge=U;function Me(e){return f("MuiTimelineItem",e)}x("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse","missingOppositeContent"]);const $e=["position","className"],je=e=>{const{position:t,classes:o,hasOppositeContent:i}=e,n={root:["root",m(t),!i&&"missingOppositeContent"]};return h(n,Me,o)},be=C("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[m(o.position)]]}})(({ownerState:e})=>r({listStyle:"none",display:"flex",position:"relative",minHeight:70},e.position==="left"&&{flexDirection:"row-reverse"},(e.position==="alternate"||e.position==="alternate-reverse")&&{[`&:nth-of-type(${e.position==="alternate"?"even":"odd"})`]:{flexDirection:"row-reverse",[`& .${le.root}`]:{textAlign:"right"},[`& .${ge.root}`]:{textAlign:"left"}}},!e.hasOppositeContent&&{"&::before":{content:'""',flex:1,padding:"6px 16px"}})),Se=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimelineItem"}),{position:n,className:p}=i,a=T(i,$e),{position:c}=l.useContext(y);let u=!1;l.Children.forEach(i.children,$=>{I($,["TimelineOppositeContent"])&&(u=!0)});const d=r({},i,{position:n||c||"right",hasOppositeContent:u}),R=je(d),M=l.useMemo(()=>({position:d.position}),[d.position]);return s.jsx(y.Provider,{value:M,children:s.jsx(be,r({className:g(R.root,p),ownerState:d,ref:o},a))})}),We=Se;function we(e){return f("MuiTimelineSeparator",e)}x("MuiTimelineSeparator",["root"]);const Ne=["className"],_e=e=>{const{classes:t}=e;return h({root:["root"]},we,t)},De=C("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Oe=l.forwardRef(function(t,o){const i=v({props:t,name:"MuiTimelineSeparator"}),{className:n}=i,p=T(i,Ne),a=i,c=_e(a);return s.jsx(De,r({className:g(c.root,n),ownerState:a,ref:o},p))}),Be=Oe,Je=({open:e,onClose:t,imageID:o})=>{const[i,n]=l.useState(null),[p,a]=l.useState(!0),[c,u]=l.useState(!1),[d,R]=l.useState(!1);l.useEffect(()=>(e&&(async()=>{if(!o){console.error("No imageID provided!");return}console.log("Fetching file with imageID:",o),a(!0),u(!1),R(!1);try{const j=await E.get(`/api/invoice/file/${o}`,{responseType:"blob",validateStatus:function(L){return L===200}}),A=URL.createObjectURL(j.data);n(A)}catch(j){console.error("Error fetching file:",j),u(!0)}finally{a(!1)}})(),()=>{i&&URL.revokeObjectURL(i)}),[o,e]);const M=()=>{R(!0)},$=()=>{u(!0),R(!1)};return s.jsxs(F,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[s.jsxs(H,{children:["مشاهدة الملف",s.jsx(P,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8},children:s.jsx(V,{})})]}),s.jsx(z,{dividers:!0,style:{minHeight:"600px",display:"flex",justifyContent:"center",alignItems:"center"},children:p?s.jsx(k,{}):c?s.jsx(S,{color:"error",children:"An error occurred while loading the file. Please verify that the file exists and try again."}):s.jsx("div",{style:{textAlign:"center",width:"100%"},children:s.jsx("embed",{src:i,type:"application/pdf",width:"100%",height:"600px",style:{border:"1px solid #ddd"},onLoad:M,onError:$})})})]})};var N={},Ue=O;Object.defineProperty(N,"__esModule",{value:!0});var Ae=N.default=void 0,Le=Ue(D()),_=s;Ae=N.default=(0,Le.default)([(0,_.jsx)("path",{d:"M3 15h.78c.55-.61 1.34-1 2.22-1s1.67.39 2.22 1H15V6H3z",opacity:".3"},"0"),(0,_.jsx)("path",{d:"M17 8V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m9-3H8.22c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3V6h12zm3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-6V9.5h2.5l1.96 2.5z"},"1")],"LocalShippingTwoTone");export{Je as F,ze as T,We as a,Ge as b,Be as c,qe as d,He as e,ke as f,G as g,Ae as h};
