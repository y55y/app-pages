import{h,E as y,N as v,bS as w,j as e,U as A,B as u,ay as F,n as k,aJ as C,G as t,z as d,ax as I,k as c,D as B}from"./index-B0WSqbsu.js";import{A as E,a as D,b as P}from"./AuthFooter-Cu01URuo.js";import{F as S,c as T,a as M}from"./formik.esm-BFpnH2AE.js";import{u as W}from"./useScriptRef-nIY5D1nF.js";import{a as z,I as H,O as L,F as x}from"./FormHelperText-C2iB3Qrk.js";const O=({...n})=>{const o=h(),p=W(),j=y(),f=v(),{resetPassword:g}=w();return e.jsx(S,{initialValues:{email:"",submit:null},validationSchema:T().shape({email:M().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:async(s,{setErrors:l,setStatus:a,setSubmitting:i})=>{try{await g(s.email).then(()=>{a({success:!0}),i(!1),j(A({open:!0,message:"Check mail for reset password link",variant:"alert",alert:{color:"success"},close:!1})),setTimeout(()=>{f("/check-mail",{replace:!0})},1500)},r=>{a({success:!1}),l({submit:r.message}),i(!1)})}catch(r){console.error(r),p.current&&(a({success:!1}),l({submit:r.message}),i(!1))}},children:({errors:s,handleBlur:l,handleChange:a,handleSubmit:i,isSubmitting:r,touched:m,values:b})=>e.jsxs("form",{noValidate:!0,onSubmit:i,...n,children:[e.jsxs(z,{fullWidth:!0,error:!!(m.email&&s.email),sx:{...o.typography.customInput},children:[e.jsx(H,{htmlFor:"outlined-adornment-email-forgot",children:"Email Address / Username"}),e.jsx(L,{id:"outlined-adornment-email-forgot",type:"email",value:b.email,name:"email",onBlur:l,onChange:a,label:"Email Address / Username",inputProps:{}}),m.email&&s.email&&e.jsx(x,{error:!0,id:"standard-weight-helper-text-email-forgot",children:s.email})]}),s.submit&&e.jsx(u,{sx:{mt:3},children:e.jsx(x,{error:!0,children:s.submit})}),e.jsx(u,{sx:{mt:2},children:e.jsx(F,{children:e.jsx(k,{disableElevation:!0,disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Send Mail"})})})]})})},V=()=>{const n=h(),o=C(n.breakpoints.down("md"));return e.jsx(E,{children:e.jsxs(t,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(D,{children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(t,{item:!0,sx:{mb:3},children:e.jsx(d,{to:"#","aria-label":"theme-logo",children:e.jsx(I,{})})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"center",textAlign:"center",spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(c,{color:n.palette.secondary.main,gutterBottom:!0,variant:o?"h3":"h2",children:"Forgot password?"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(c,{variant:"caption",fontSize:"16px",textAlign:"center",children:"Enter your email address below and we'll send you password reset OTP."})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(O,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(B,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(c,{component:d,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})}),e.jsx(t,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(P,{})})]})})};export{V as default};
