import{r as o,h as I,j as t,k as a,Z as W,q as c}from"./index-DFDjXJJD.js";import{g as p}from"./fetchdata-SSWBG8pu.js";import{B as k}from"./index-DI9ViyOH.js";import{A as v}from"./AccountStatement-C5KMj72L.js";import{A as q,E as L}from"./AddCategoryDialog-CWIigRXC.js";import M from"./index-i1tq-fsV.js";import P from"./index-Bxc1WTo1.js";import"./Search-C_y4mX0P.js";import"./Autocomplete-CUx_OwI1.js";import"./TextField-BVwawPBZ.js";import"./FormHelperText-DTZ57thw.js";import"./InputAdornment-D1vT-tQ4.js";import"./CircularProgress-oD_UnmhP.js";import"./DataGrid-B1XWR2S5.js";import"./typeof-QjJsDpFa.js";import"./MenuItem-DLq5gPQU.js";import"./Checkbox-CaFwzK1Y.js";import"./Skeleton-DQV0_fhh.js";import"./TablePagination-DFv1bStD.js";import"./KeyboardArrowRight-CFx6dXm5.js";import"./TableCell-NOFmK8gn.js";import"./FormControlLabel-Duwke2gp.js";import"./MessageSnackbar-DgblGwr-.js";import"./SubCard-0Bf-6c11.js";import"./index-CHPEP4o8.js";import"./TableRow-D4HQzkuf.js";import"./TableHead-7OL8RHgI.js";import"./DialogContent-DVzO2tY3.js";import"./DialogTitle-BugKLQlW.js";import"./AdapterDayjs-C9Wne6KM.js";import"./DatePicker-CvRfPV0N.js";import"./ListItem-DS6bgVf3.js";import"./userinfo-DDaaAeVU.js";import"./ag-theme-alpine-POVkvQD7.js";import"./Delete-D8TLCGcN.js";import"./AutocompleteEditor-CQVkG_MY.js";import"./payment-BmgUzAcL.js";const ye=()=>{const[h,f]=o.useState([]),[u,g]=o.useState([]),[D,C]=o.useState(0),[x,m]=o.useState(0),[y,i]=o.useState(!1),b=I(),E=[{text:"كشف حساب",component:v,isDisabled:!1}],w=e=>{switch(e){case!1:return{closedlabel:"مسودة",closedcolor:"black",closedchipcolor:c("#D3D3D3",.3)};case!0:return{closedlabel:"مكتمل",closedcolor:"success.dark",closedchipcolor:c(b.palette.success.light,.5)};default:return{closedlabel:"مسودة",closedcolor:"black",closedchipcolor:c("#D3D3D3",.3)}}},N=[{field:"ID",headerName:"الرقم",minWidth:100,flex:.5,align:"left",renderCell:e=>t.jsx(a,{variant:"h5",children:e.row.ID})},{field:"qidDate",headerName:"التاريخ",minWidth:100,flex:1,align:"left",renderCell:e=>t.jsx(a,{children:e.row.qidDate})},{field:"AccNameDebit",headerName:"الحساب المدين",minWidth:100,flex:2,align:"left",renderCell:e=>t.jsx(a,{variant:"h5",children:e.row.AccNameDebit})},{field:"AccNameCredit",headerName:"الحساب الدائن",minWidth:100,flex:2,align:"left",renderCell:e=>t.jsx(a,{variant:"h5",children:e.row.AccNameCredit})},{field:"closed",headerName:"الحالة",minWidth:100,flex:1,align:"left",renderCell:e=>{const{closedlabel:l,closedcolor:n,closedchipcolor:s}=w(e.row.closed);return t.jsx(W,{label:l,size:"small",sx:{bgcolor:s,color:n,cursor:"pointer"}})}},{field:"amount",headerName:"المبلغ",minWidth:100,flex:1,align:"left",renderCell:e=>t.jsx(a,{variant:"h5",children:e.row.amount})}],d=async()=>{try{const e=await p("/api/accounting/entry/main",{});f(e)}catch(e){console.error("Error fetching client tree data:",e)}},A=async(e,l,n,s,S,j,T)=>{try{i(!0);const r=await p("/api/accounting/entry/sub",{Father:e,page:l,pageSize:n,rowID:s,search:S,field:j,sort:T});g(r.data),C(r.totalRows),r.page!==null&&m(r.page),i(!1)}catch(r){console.error("Error fetching client tree data:",r),i(!1)}};return o.useEffect(()=>{d()},[]),t.jsx(k,{mainData:h,rows:u,dataKey:"ID",dataCode:"Code",Name:"Name",fetchTreeData:d,fetchSubTreeData:A,columns:N,apiSearchEndpoint:"/api/accounting/entry/search",PopupAddMain:q,PopupEditMain:L,AddEntityComponent:M,EditEntityComponent:P,rowCount:D,entityName:"قيد",mainName:"تصنيف",page:x,isLoading:y,setPage:m,reportOptions:E,disableIDTree:!0})};export{ye as default};
